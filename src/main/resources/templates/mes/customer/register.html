<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Customer Register</title>
</head>
<body>
<div th:fragment="register">
    <div class="card">
        <div class="card-header">
            고객 등록
        </div>
        <div class="card-body">
            <form action="/mes/customer/register" method="post">
                <div class="input-group mb-3">
                    <span class="input-group-text">ID</span>
                    <input type="text" class="form-control" name="customerId" readonly value="CUST-" disabled>
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text">고객명</span>
                    <input type="text" class="form-control" name="customerName">
                </div>
                <div class="input-group mb-3">
                    <span class="input-group-text">전화번호</span>
                    <input type="text" class="form-control" name="customerInfo">
                </div>
                <div class="my-4">
                    <div class="float-end">
                        <button type="submit" class="btn btn-outline-dark">등록</button>
                        <button type="reset" class="btn btn-outline-dark">취소</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
</body>
<script>
    // JavaScript로 customerId를 자동 생성
    document.addEventListener("DOMContentLoaded", function() {
        // UUID를 생성하여 customerId 입력란에 자동으로 채워 넣음
        var customerId = "CUST-" + generateUUID();
        document.getElementById("customerId").value = customerId;
    });

    // UUID 생성 함수
    function generateUUID() {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
            var r = Math.random() * 16 | 0,
                v = c === 'x' ? r : (r & 0x3 | 0x8);
            return v.toString(16);
        });
    }
</script>
</html>
